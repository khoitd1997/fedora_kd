- block:
    - block:
        - shell: lspci | grep NVIDIA
          register: system_has_nvidia_card
          ignore_errors: True

        - name: install nvidia driver
          when: system_has_nvidia_card is succeeded
          dnf:
            update_cache: yes
            state: present
            name:
              - xorg-x11-drv-nvidia
              - akmod-nvidia
      tags:
        - nvidia

    - name: install packages
      dnf:
        update_cache: yes
        state: present
        name:
          - google-chrome-stable
          - VirtualBox-6.0 # 6.1 conflict with vagrant

          - nautilus-dropbox

          - "@development-tools"
          - "@multimedia"
          - "@sound-and-video"

          - bat
          - hyperfine

          - qt-creator
          - cmake
          - valgrind
          - heaptrack
          - perf
          - gcc
          - clang
          - clang-tools-extra
          - llvm
          - cppcheck
          - clang-analyzer
          - libasan
          - libubsan
          - ninja-build
          - boost
          - boost-devel

          - neovim
          - strace
          - simplescreenrecorder
          - moreutils
          - jq
          - ripgrep
          - gnome-terminal
          - doxygen
          - dnfdragora-updater
          - youtube-dl
          - htop
          - glances
          - net-tools
          - python3-pip
          - curl
          - python3-setuptools
          - python3-devel
          - tldr
          - neofetch
          - fd-find
          - fzf
          - git
          - git-credential-libsecret
          - nano
          - dnf-automatic
          - openconnect
          - tmux
          - libsecret
          - glibc-devel.i686
          - libnsl

          - gmock
          - gmock-devel
          - gtest
          - gtest-devel
          - qt-x11
          - mesa-libGL-devel

          - kdenlive
          - frei0r-plugins
          - redshift-gtk
          - gnome-disk-utility
          - seahorse
          - i3lock
          - autokey-gtk
          - firefox
          - evince
          - xpad
          - gparted
          - moserial
          - ncurses-devel
          - meld
          - graphviz
          - npm
          - flameshot
          - feh
          - qalculate-gtk
          - latexmk
          - kernel-devel
          - kernel-headers
          - pylint
          - liveusb-creator
          - gimp
          - vlc
          - konsole

          - snapd

          - flatpak

          - texlive-latexindent
          - texlive-scheme-basic
          - texlive-collection-latexextra
          - texlive-collection-latexrecommended
          - texlive-collection-xetex

          - gstreamer-plugins-bad
          - gstreamer-plugins-bad-nonfree
          - gstreamer-plugins-ugly
          - gstreamer-ffmpeg
          - gstreamer1-plugins-good-extras
          - gstreamer1-plugins-bad-free-extras

          - rofi
          - rofi-themes

          - golang
          - golint

          - openocd
          - arm-none-eabi-newlib
          - arm-none-eabi-gcc-cs
          - arm-none-eabi-gcc-cs-c++

          - "@virtualization"
          - tigervnc
          - qemu
          - vagrant
          - vagrant-sshfs
          - vagrant-libvirt

          - zsh
          - zsh-syntax-highlighting

          - java-1.8.0-openjdk
          - java-1.8.0-openjdk-devel
          - java-openjdk

          - adobe-source-code-pro-fonts
          - arc-theme
          - plymouth-plugin-script
          - awesome

          - lxappearance
          - qt5ct

          - volumeicon
          - lxqt-powermanagement
          - udiskie

          - ruby-devel

          # home brew packages need these
          - perl-Test-Harness
          - perl-core
